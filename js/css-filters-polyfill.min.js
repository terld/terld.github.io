!function(e){var t={_ie:function(){for(var e,t=3,n=document.createElement("div"),i=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",i[0];);return t>4?t:e}(),_svg_cache:{},_create_svg_element:function(e,t){var n="http://www.w3.org/2000/svg",i=document.createElementNS(n,e);for(key in t)i.setAttributeNS(null,key,t[key]);return i},_create_svg:function(e,t){var n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg");i.setAttributeNS(null,"width","0"),i.setAttributeNS(null,"height","0"),i.setAttributeNS(null,"style","position:absolute");var o=document.createElementNS(n,"filter");o.setAttributeNS(null,"id",e),i.appendChild(o);for(var r=0;r<t.length;r++)o.appendChild(t[r]);return i},_pending_stylesheets:0,_stylesheets:[],_development_mode:function(){return"localhost"===location.hostname||-1!==location.hostname.search(/.local$/)||-1!==location.hostname.search(/\d+\.\d+\.\d+\.\d+/)?(e.console&&console.log("Detected localhost or IP address. Assuming you are a developer. Caching of stylesheets is disabled."),!0):(e.console&&console.log("Caching of stylesheets is enabled. You need to refresh twice to see any changes."),!1)}(),process_stylesheets:function(){var n=[];e.setTimeout(function(){if(e.XMLHttpRequest)var t=new XMLHttpRequest;else if(e.ActiveXObject)var t=new ActiveXObject("Microsoft.XMLHTTP");t.open("GET",e.polyfilter_scriptpath+"htc/sepia.htc",!0),t.onreadystatechange=function(){4==n.readyState&&200!=n.status&&alert('The configured path \r\rvar polyfilter_scriptpath = "'+e.polyfilter_scriptpath+'"\r\rseems wrong!\r\rConfigure the polyfill\'s correct absolute(!) script path before referencing the css-filters-polyfill.js, like so:\r\rvar polyfilter_scriptpath = "/js/css-filters-polyfill/";\r\rLeaving IE dead in the water is no option. You damn Mac user... ;)')};try{t.send(null)}catch(i){}},2e3);for(var i=document.querySelectorAll?document.querySelectorAll('style,link[rel="stylesheet"]'):document.getElementsByTagName("*"),o=0;o<i.length;o++)!function(n){switch(i[n].nodeName){default:break;case"STYLE":t._stylesheets.push({media:i[n].media||"all",content:i[n].innerHTML});break;case"LINK":if("stylesheet"===i[n].rel){var o=t._stylesheets.length;t._stylesheets.push({media:i[n].media||"all"}),t._pending_stylesheets++;var r=i[n].href;!t._development_mode&&e.localStorage&&e.localStorage.getItem("polyfilter_"+r)&&(t._pending_stylesheets--,t._stylesheets[o].content=localStorage.getItem("polyfilter_"+r),0===t._pending_stylesheets&&t.process());try{if(e.XMLHttpRequest)var a=new XMLHttpRequest;else if(e.ActiveXObject)var a=new ActiveXObject("Microsoft.XMLHTTP");a.open("GET",r,!0),a.onreadystatechange=function(){if(4===a.readyState)if(0===a.status)e.console&&console.log("Could not fetch external CSS via HTTP-Request "+r+". Probably because of cross origin."),t._stylesheets[o].content||(t._pending_stylesheets--,t._stylesheets[o].content=a.responseText,0===t._pending_stylesheets&&t.process());else if(t._stylesheets[o].content||(t._pending_stylesheets--,t._stylesheets[o].content=a.responseText,0===t._pending_stylesheets&&t.process()),!t._development_mode&&e.localStorage)try{e.localStorage.setItem("polyfilter_"+r,t._stylesheets[o].content)}catch(n){e.console&&console.log("Local storage quota have been exceeded. Caching of stylesheet "+r+" is not possible")}};try{a.send(null)}catch(s){e.console&&console.log("Could not fetch external CSS via HTTP-Request "+r+". Are you maybe testing using the file://-protocol?"),t._stylesheets[o].content||(t._pending_stylesheets--,0===t._pending_stylesheets&&t.process())}}catch(s){}}}}(o);0===this._pending_stylesheets&&this.process()},_processDeclarations:function(e){var n="";for(var i in e.declarations){var o=e.declarations[i];if("filter"===o.property){if(document.querySelectorAll)for(var r=document.querySelectorAll(e.mSelectorText),i=0;i<r.length;i++)r[i].style.polyfilterStore=o.valueText;var a=o.valueText,s=a.split(/\)\s+/),l={filtersW3C:[],filtersWebKit:[],filtersSVG:[],filtersIE:[],behaviorsIE:[]};for(idx in s){var c=s[idx]+")";currentproperties=t.convert(c);for(key in currentproperties)"undefined"!=typeof l[key]&&(l[key]=l[key].concat(currentproperties[key]))}if(n+=e.mSelectorText+"{",l.filtersW3C.length>0&&(webkitFilter=mozFilter=oFilter=msFilter=l.filtersW3C.join(" "),l.filtersWebKit&&l.filtersWebKit.length>0&&(webkitFilter=l.filtersWebKit.join(" ")),"undefined"==typeof this._ie&&(n+="-ms-filter:"+msFilter+";"),n+="-webkit-filter:"+webkitFilter+";",n+="-moz-filter:"+mozFilter+";",n+="-o-filter:"+oFilter+";"),l.filtersSVG.length>0)if("none"!=l.filtersSVG[0]){var d=a.replace(/[^a-z0-9]/g,"");if("undefined"==typeof this._svg_cache[d])if(this._svg_cache[d]=this._create_svg(d,l.filtersSVG),"undefined"==typeof XMLSerializer)document.body.appendChild(this._svg_cache[d]);else{var u=new XMLSerializer,h=u.serializeToString(this._svg_cache[d]);-1!=h.search("SourceGraphic")&&document.body.appendChild(this._svg_cache[d])}if("undefined"==typeof XMLSerializer)n+="filter: url(#"+d+")";else{var u=new XMLSerializer,h=u.serializeToString(this._svg_cache[d]);n+=-1!=h.search("SourceGraphic")?"filter: url(#"+d+")":"filter: url('data:image/svg+xml;utf8,"+h+"#"+d+"')"}}else n+="filter: none;";if("undefined"!=typeof this._ie){if(l.filtersIE.length>0){var p=l.filtersIE.join(" ");n+="filter:"+p+";"}if(l.behaviorsIE.length>0){var f=l.behaviorsIE.join(" ");n+="behavior:"+f+";"}}n+="}\r\n"}}return n},scriptpath:e.polyfilter_scriptpath?e.polyfilter_scriptpath:function(){return alert('Please configure the polyfill\'s absolute(!) script path before referencing the css-filters-polyfill.js, like so:\r\nvar polyfilter_scriptpath = "/js/css-filters-polyfill/";'),"./"}(),process:function(){for(var e=new CSSParser,n=0;n<this._stylesheets.length;n++){var i="",o=e.parse(this._stylesheets[n].content,!1,!0);if(null!==o)for(var r in o.cssRules){var a=o.cssRules[r];switch(a.type){default:break;case 1:i+=this._processDeclarations(a);break;case 4:i+="@media "+a.media.join(",")+"{";for(var s in a.cssRules){var l=a.cssRules[s];i+=this._processDeclarations(l)}i+="}"}}var c=document.createElement("style");c.setAttribute("media",this._stylesheets[n].media),"undefined"==typeof t._ie?(c.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(c)):(document.getElementsByTagName("head")[0].appendChild(c),c.styleSheet.cssText=i)}},init:function(){Object.defineProperty&&Object.defineProperty(CSSStyleDeclaration.prototype,"polyfilter",{get:function(){return this.polyfilterStore},set:function(e){values=e.split(/\)\s+/);var n={filtersW3C:[],filtersWebKit:[],filtersSVG:[],filtersIE:[],behaviorsIE:[]};for(idx in values){var i=values[idx]+")";currentproperties=t.convert(i);for(key in currentproperties)"undefined"!=typeof n[key]&&(n[key]=n[key].concat(currentproperties[key]))}if(n.filtersW3C.length>0&&("undefined"==typeof t._ie&&(this.msFilter=n.filtersW3C.join(" ")),this.webkitFilter=this.mozFilter=this.oFilter=n.filtersW3C.join(" ")),n.filtersWebKit.length>0&&(this.webkitFilter=n.filtersWebKit.join(" ")),n.filtersSVG.length>0)if("none"!=n.filtersSVG[0]){var o=e.replace(/[^a-z0-9]/g,"");if("undefined"==typeof t._svg_cache[o])if(t._svg_cache[o]=t._create_svg(o,n.filtersSVG),"undefined"==typeof XMLSerializer)document.body.appendChild(t._svg_cache[o]);else{var r=new XMLSerializer,a=r.serializeToString(t._svg_cache[o]);-1!=a.search("SourceGraphic")&&document.body.appendChild(t._svg_cache[o])}if("undefined"==typeof XMLSerializer)this.filter="url(#"+o+")";else{var r=new XMLSerializer,a=r.serializeToString(t._svg_cache[o]);this.filter=-1!=a.search("SourceGraphic")?"url(#"+o+")":"url('data:image/svg+xml;utf8,"+a+"#"+o+"')"}}else this.filter="none";"undefined"!=typeof t._ie&&(this.filter=n.filtersIE.length>0?n.filtersIE.join(" "):"",this.behavior=n.behaviorsIE.length>0?n.behaviorsIE.join(" "):""),this.polyfilterStore=e}})},convert:function(e){var t=e.match(/none/i);if(null!==t)var n=this.filters.none();var t=e.match(/(grayscale)\(([0-9\.]+)\)/i);if(null!==t)var i=parseFloat(t[2],10),n=this.filters.grayscale(i);var t=e.match(/(sepia)\(([0-9\.]+)\)/i);if(null!==t)var i=parseFloat(t[2],10),n=this.filters.sepia(i);var t=e.match(/(blur)\(([0-9]+)[px]*\)/i);if(null!==t)var i=parseInt(t[2],10),n=this.filters.blur(i);var t=e.match(/(invert)\(([0-9\.]+)\)/i);if(null!==t)var i=parseFloat(t[2],10),n=this.filters.invert(i);var t=e.match(/(brightness)\(([0-9\.]+)%\)/i);if(null!==t)var i=parseFloat(t[2],10),n=this.filters.brightness(i);var t=e.match(/(drop\-shadow)\(([0-9]+)[px]*\s+([0-9]+)[px]*\s+([0-9]+)[px]*\s+([#0-9]+)\)/i);if(null!==t)var o=parseInt(t[2],10),r=parseInt(t[3],10),a=parseInt(t[4],10),s=t[5],n=this.filters.dropShadow(o,r,a,s);return n},filters:{none:function(){var e={};return"undefined"==typeof t._ie?(e.filtersW3C=["none"],e.filtersSVG=["none"]):e.filtersIE=["none"],e},grayscale:function(e){e=e||0;var n={};if("undefined"==typeof t._ie){n.filtersW3C=["grayscale("+e+")"];var i=t._create_svg_element("feColorMatrix",{type:"matrix",values:.2126+.7874*(1-e)+" "+(.7152-.7152*(1-e))+" "+(.0722-.0722*(1-e))+" 0 0 "+(.2126-.2126*(1-e))+" "+(.7152+.2848*(1-e))+" "+(.0722-.0722*(1-e))+" 0 0 "+(.2126-.2126*(1-e))+" "+(.7152-.7152*(1-e))+" "+(.0722+.9278*(1-e))+" 0 0 0 0 0 1 0"});n.filtersSVG=[i]}else n.filtersIE=e>=.5?["gray"]:[];return n},sepia:function(e){e=e||0;var n={};if("undefined"==typeof t._ie){n.filtersW3C=["sepia("+e+")"];var i=t._create_svg_element("feColorMatrix",{type:"matrix",values:.393+.607*(1-e)+" "+(.769-.769*(1-e))+" "+(.189-.189*(1-e))+" 0 0 "+(.349-.349*(1-e))+" "+(.686+.314*(1-e))+" "+(.168-.168*(1-e))+" 0 0 "+(.272-.272*(1-e))+" "+(.534-.534*(1-e))+" "+(.131+.869*(1-e))+" 0 0 0 0 0 1 0"});n.filtersSVG=[i]}else n.filtersIE=e>=.5?["gray","progid:DXImageTransform.Microsoft.Light()"]:[],n.behaviorsIE=e>=.5?['url("'+t.scriptpath+'htc/sepia.htc")']:[];return n},blur:function(e){e=Math.round(e)||0;var n={};if("undefined"==typeof t._ie){n.filtersW3C=["blur("+e+"px)"];var i=t._create_svg_element("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:e});n.filtersSVG=[i]}else n.filtersIE=["progid:DXImageTransform.Microsoft.Blur(pixelradius="+e+")"];return n},invert:function(e){e=e||0;var n={};if("undefined"==typeof t._ie){n.filtersW3C=["invert("+e+")"];var i=t._create_svg_element("feComponentTransfer",{}),o=t._create_svg_element("feFuncR",{type:"table",tableValues:e+" "+(1-e)});i.appendChild(o);var o=t._create_svg_element("feFuncG",{type:"table",tableValues:e+" "+(1-e)});i.appendChild(o);var o=t._create_svg_element("feFuncB",{type:"table",tableValues:e+" "+(1-e)});i.appendChild(o),n.filtersSVG=[i]}else n.filtersIE=e>=.5?["invert"]:[];return n},brightness:function(e){e=e||0;var n={};if("undefined"==typeof t._ie){n.filtersW3C=["brightness("+e+"%)"],n.filtersWebKit=["brightness("+(e-100)+"%)"];var i=t._create_svg_element("feComponentTransfer",{}),o=t._create_svg_element("feFuncR",{type:"linear",slope:e/100});i.appendChild(o);var o=t._create_svg_element("feFuncG",{type:"linear",slope:e/100});i.appendChild(o);var o=t._create_svg_element("feFuncB",{type:"linear",slope:e/100});i.appendChild(o),n.filtersSVG=[i]}else n.filtersIE=["progid:DXImageTransform.Microsoft.Light()"],n.behaviorsIE=['url("'+t.scriptpath+'htc/brightness.htc")'];return n},dropShadow:function(e,n,i,o){e=Math.round(e)||0,n=Math.round(n)||0,i=Math.round(i)||0,o=o||"#000000";var r={};if("undefined"==typeof t._ie){r.filtersW3C=["drop-shadow("+e+"px "+n+"px "+i+"px "+o+")"];var a=t._create_svg_element("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:i}),s=t._create_svg_element("feOffset",{dx:e+1,dy:n+1,result:"offsetblur"}),l=t._create_svg_element("feFlood",{"flood-color":o}),c=t._create_svg_element("feComposite",{in2:"offsetblur",operator:"in"}),d=t._create_svg_element("feMerge",{}),u=t._create_svg_element("feMergeNode",{});d.appendChild(u);var u=t._create_svg_element("feMergeNode",{"in":"SourceGraphic"});d.appendChild(u),r.filtersSVG=[a,s,l,c,d]}else r.filtersIE=["progid:DXImageTransform.Microsoft.Glow(color="+o+",strength=0)","progid:DXImageTransform.Microsoft.Shadow(color="+o+",strength=0)"],r.behaviorsIE=['url("'+t.scriptpath+'htc/drop-shadow.htc")'];return r}}};e.jQuery?e.jQuery(document).ready(function(){t.process_stylesheets()}):e.contentLoaded?contentLoaded(e,function(){t.process_stylesheets()}):e.addEventListener?document.addEventListener("DOMContentLoaded",function(){t.process_stylesheets()},!1):e.attachEvent&&e.attachEvent("onload",function(){t.process_stylesheets()}),t.init()}(window);
